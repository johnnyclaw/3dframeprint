<section class="featured-products">
  <div class="section-header">
    <h2>{{ section.settings.heading | default: 'Featured Frames' }}</h2>
    <p>{{ section.settings.subheading | default: 'Our most popular designs, printed with precision.' }}</p>
  </div>
  <div class="products-grid">
    {%- for product in collections[section.settings.collection].products limit: section.settings.limit -%}
      <a href="{{ product.url }}" class="product-card" style="view-transition-name: product-{{ product.handle }};">
        <div class="product-card-image">
          {%- if product.featured_image -%}
            <img
              src="{{ product.featured_image | image_url: width: 600 }}"
              alt="{{ product.featured_image.alt | escape }}"
              loading="lazy"
              width="600"
              height="600"
            >
          {%- endif -%}
        </div>
        <div class="product-card-body">
          <div class="product-card-title">{{ product.title }}</div>
          <div class="product-card-price">{{ product.price | money }}</div>
        </div>
      </a>
    {%- else -%}
      {%- for i in (1..4) -%}
        <div class="product-card">
          <div class="product-card-image"></div>
          <div class="product-card-body">
            <div class="product-card-title">Sample Frame {{ i }}</div>
            <div class="product-card-price">$29.99</div>
          </div>
        </div>
      {%- endfor -%}
    {%- endfor -%}
  </div>
</section>

{% schema %}
{
  "name": "Featured Products",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Featured Frames"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Our most popular designs, printed with precision."
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "limit",
      "label": "Products to show",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 4
    }
  ],
  "presets": [
    {
      "name": "Featured Products"
    }
  ]
}
{% endschema %}
