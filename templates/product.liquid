<div class="product-page">
  <div class="product-gallery">
    {%- if product.featured_image -%}
      <img
        src="{{ product.featured_image | image_url: width: 1200 }}"
        alt="{{ product.featured_image.alt | escape }}"
        width="1200"
        height="1200"
      >
    {%- endif -%}
  </div>
  <div class="product-info">
    <h1>{{ product.title }}</h1>
    <div class="product-price">{{ product.price | money }}</div>
    <div class="product-description">
      {{ product.description }}
    </div>

    {%- form 'product', product -%}
      <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">

      {%- unless product.has_only_default_variant -%}
        {%- for option in product.options_with_values -%}
          <div class="product-option" style="margin-bottom: 1rem;">
            <label for="option-{{ forloop.index }}">{{ option.name }}</label>
            <select id="option-{{ forloop.index }}" name="options[{{ option.name }}]" style="padding: 0.5rem; border: var(--border); font-family: var(--font-body); width: 100%;">
              {%- for value in option.values -%}
                <option value="{{ value | escape }}" {% if option.selected_value == value %}selected{% endif %}>
                  {{ value }}
                </option>
              {%- endfor -%}
            </select>
          </div>
        {%- endfor -%}
      {%- endunless -%}

      <div class="product-form">
        <div class="quantity-wrapper">
          <label for="quantity">Qty</label>
          <input type="number" id="quantity" name="quantity" value="1" min="1">
        </div>
        <button type="submit" class="btn btn-primary" {% unless product.available %}disabled{% endunless %}>
          {%- if product.available -%}Add to Cart{%- else -%}Sold Out{%- endif -%}
        </button>
      </div>
    {%- endform -%}
  </div>
</div>
